# PowerBank Rental Backend

## Описание проекта

Этот проект представляет собой серверную часть системы для управления автоматами аренды повербанков. Система разработана для улучшения моих навыков в веб-разработке. Она поддерживает управление пользователями, машинами (автоматами), заказами и промокодами.

Проект построен с использованием **Node.js**, **Express**, и **MongoDB**. Архитектура приложения RESTful, что обеспечивает простоту масштабирования и поддержку различных клиентов.

---

## Стек технологий

- **Node.js** - серверная платформа для реализации бизнес-логики.
- **Express** - минималистичный фреймворк для создания REST API.
- **MongoDB** - NoSQL база данных для хранения данных.
- **dotenv** - для управления конфиденциальными переменными среды.
- **cors** - для управления политикой доступа между различными источниками.
- **Body-Parser** - для обработки входящих JSON запросов.

---

## Основной функционал

### 1. **Аутентификация и управление пользователями**

Роуты:

- `POST /api/auth/register` — Регистрация нового пользователя.
- `POST /api/auth/verify` — Подтверждение пользователя.
- `POST /api/auth/login` — Вход пользователя.
- `PUT /api/auth/update/:id` — Обновление данных пользователя.
- `DELETE /api/auth/delete/:id` — Удаление пользователя.
- `GET /api/auth/all` — Получение списка всех пользователей.

### 2. **Управление автоматами (машинами)**

Роуты:

- `POST /api/machines/add-machine` — Добавление новой машины.
- `POST /api/machines/set-expectation` — Установка ожиданий на машину.
- `POST /api/machines/respond-to-machine` — Ответ на запрос машины.
- `GET /api/machines/all` — Получение списка всех машин.
- `GET /api/machines/status/:kod` — Получение статуса машины.
- `DELETE /api/machines/delete/:id` — Удаление машины.

### 3. **Управление заказами**

Роуты:

- `GET /api/orders/active/:userId` — Получение активных заказов пользователя.
- `GET /api/orders/completed/:userId` — Получение завершённых заказов пользователя.
- `POST /api/orders/complete/:orderId` — Завершение заказа.

### 4. **Управление промокодами**

Роуты:

- `POST /api/promoCodes/add` — Добавление нового промокода.
- `GET /api/promoCodes` — Получение списка всех промокодов.

### 5. **Дополнительные пользовательские данные**

Роуты:

- `GET /api/users/:userId` — Получение данных пользователя.
- `PUT /api/users/:userId` — Редактирование данных пользователя.
- `POST /api/users/redeem` — Активация промокода пользователем.

---

## Установка и запуск

### 1. Установите зависимости:

```bash
npm install
```

### 2. Настройте переменные окружения:

Создайте файл `.env` и добавьте:

```
MONGO_URI=ваш_адрес_базы_данных
```

### 3. Запустите сервер:

```bash
npm start
```

Сервер будет запущен на `http://<ваш-IP>:4000`.

---

## Будущее развитие

- Подключение платежной системы.
- Добавление логов активности.
- Расширение функционала анализа данных.
- Разработка фронтенда для взаимодействия с этим API.

---

## Контакты

Разработчик: **s1mba121**  
GitHub: [Frontend](https://github.com/s1mba121/Energyk-frontend), [Backend](https://github.com/s1mba121/Energyk-backend)
